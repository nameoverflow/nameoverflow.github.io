<!DOCTYPE html>
<html lang="ch-Hans">
<head>
  <!-- hexo-inject:begin --><!-- hexo-inject:end --><meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>千年弦歌网络工作室javascript编码规范 | Alpha</title>
  <link rel="stylesheet" href="//cdn.jsdelivr.net/highlight.js/9.10.0/styles/github-gist.min.css">
  <link rel="stylesheet" href="/css/style.css"><!-- hexo-inject:begin --><!-- hexo-inject:end -->
</head>

<body>
<!-- hexo-inject:begin --><!-- hexo-inject:end --><div class="Shell">
    <aside class='SideBar'>
    <section class='avatar'>
        <div class='av-pic'/>
    </section>
    <section class='menu'>
        <div>nameoverflow</div>
        <div>What the f__k?</div>
        <ul>
          
            <a href="/" class="Btn">
              <li>Home</li>
            </a>  
          
            <a href="/archives/" class="Btn">
              <li>Archive</li>
            </a>  
          
            <a href="/tags/" class="Btn">
              <li>Tags</li>
            </a>  
          
            <a href="/about/" class="Btn">
              <li>About</li>
            </a>  
          
        </ul>
    </section>
    <section class="media">
        
            
                <a href="https://github.com/nameoverflow">
                    <img src="/assets/github.svg" />
                </a>
            
        
            
                <a href="https://www.facebook.com/profile.php?id=100004252391322">
                    <img src="/assets/facebook.svg" />
                </a>
            
        
    </section>
</aside>

    <div class="container">
        <div data-pager-shell>
            <div>
  <article class='ContentView'>
    <header class='PageTitle'>
        <h1>千年弦歌网络工作室javascript编码规范</h1>
    </header>

    <section>
      <h2 id="1-前言"><a href="#1-前言" class="headerlink" title="1 前言"></a>1 前言</h2><p>本文档的目标是使javascript代码风格保持一致，容易被理解和被维护。</p>
<p>虽然本文档是针对javascript设计的，但是在使用各种javascript的预编译器(如coffescript等)<br>时，适用的部分也应尽量遵循本文档的约定。</p>
<a id="more"></a>
<h2 id="2-代码风格"><a href="#2-代码风格" class="headerlink" title="2 代码风格"></a>2 代码风格</h2><h3 id="2-1-文件"><a href="#2-1-文件" class="headerlink" title="2.1 文件"></a>2.1 文件</h3><h5 id="建议-javascript-文件使用无-BOM-的-UTF-8-编码。"><a href="#建议-javascript-文件使用无-BOM-的-UTF-8-编码。" class="headerlink" title="[建议] javascript 文件使用无 BOM 的 UTF-8 编码。"></a>[建议] <code>javascript</code> 文件使用无 <code>BOM</code> 的 <code>UTF-8</code> 编码。</h5><p>解释：</p>
<p>UTF-8 编码具有更广泛的适应性。BOM 在使用程序或工具处理文件时可能造成不必要的干扰。</p>
<h3 id="2-2-结构"><a href="#2-2-结构" class="headerlink" title="2.2 结构"></a>2.2 结构</h3><h4 id="2-2-1-缩进"><a href="#2-2-1-缩进" class="headerlink" title="2.2.1 缩进"></a>2.2.1 缩进</h4><h5 id="强制-使用-4-个空格做为一个缩进层级，不允许使用-2-个空格-或-tab-字符。"><a href="#强制-使用-4-个空格做为一个缩进层级，不允许使用-2-个空格-或-tab-字符。" class="headerlink" title="[强制] 使用 4 个空格做为一个缩进层级，不允许使用 2 个空格 或 tab 字符。"></a>[强制] 使用 <code>4</code> 个空格做为一个缩进层级，不允许使用 <code>2</code> 个空格 或 <code>tab</code> 字符。</h5><h5 id="强制-switch-下的-case-和-default-必须增加一个缩进层级。"><a href="#强制-switch-下的-case-和-default-必须增加一个缩进层级。" class="headerlink" title="[强制] switch 下的 case 和 default 必须增加一个缩进层级。"></a>[强制] switch 下的 case 和 default 必须增加一个缩进层级。</h5><p>示例：</p>
<pre><code class="javascript"><span class="comment">// good</span>
<span class="keyword">switch</span> (variable) {

    <span class="keyword">case</span> <span class="string">'1'</span>:
        <span class="comment">// do...</span>
        <span class="keyword">break</span>;

    <span class="keyword">case</span> <span class="string">'2'</span>:
        <span class="comment">// do...</span>
        <span class="keyword">break</span>;

    <span class="keyword">default</span>:
        <span class="comment">// do...</span>

}

<span class="comment">// bad</span>
<span class="keyword">switch</span> (variable) {

<span class="keyword">case</span> <span class="string">'1'</span>:
    <span class="comment">// do...</span>
    <span class="keyword">break</span>;

<span class="keyword">case</span> <span class="string">'2'</span>:
    <span class="comment">// do...</span>
    <span class="keyword">break</span>;

<span class="keyword">default</span>:
    <span class="comment">// do...</span>

}
</code></pre>
<h5 id="强制-链式调用较长时采用缩进进行调整。"><a href="#强制-链式调用较长时采用缩进进行调整。" class="headerlink" title="[强制] 链式调用较长时采用缩进进行调整。"></a>[强制] <code>链式调用</code>较长时采用<code>缩进</code>进行调整。</h5><pre><code class="javascript">
$(<span class="string">'#items'</span>)
    .find(<span class="string">'.selected'</span>)
    .highlight()
    .end();
</code></pre>
<h4 id="2-2-2-分号"><a href="#2-2-2-分号" class="headerlink" title="2.2.2 分号"></a>2.2.2 分号</h4><h5 id="强制-所有javascript表达式一律以分号结束，不可以省略。"><a href="#强制-所有javascript表达式一律以分号结束，不可以省略。" class="headerlink" title="[强制] 所有javascript表达式一律以分号结束，不可以省略。"></a>[强制] 所有javascript表达式一律以<code>分号</code>结束，不可以省略。</h5><h4 id="2-2-3-换行"><a href="#2-2-3-换行" class="headerlink" title="2.2.3 换行"></a>2.2.3 换行</h4><h5 id="强制-每个独立语句结束后必须换行。"><a href="#强制-每个独立语句结束后必须换行。" class="headerlink" title="[强制] 每个独立语句结束后必须换行。"></a>[强制] 每个<code>独立语句</code>结束后必须换行。</h5><h5 id="强制-每行不得超过-120-个字符。"><a href="#强制-每行不得超过-120-个字符。" class="headerlink" title="[强制] 每行不得超过 120 个字符。"></a>[强制] 每行不得超过 <code>120</code> 个字符。</h5><p>解释：超长的不可分割的代码允许例外，比如复杂的正则表达式。长字符串不在例外之列。</p>
<h5 id="强制-方法之间添加空行。"><a href="#强制-方法之间添加空行。" class="headerlink" title="[强制] 方法之间添加空行。"></a>[强制] <code>方法</code>之间添加空行。</h5><h5 id="强制-单行或多行注释前添加空行。"><a href="#强制-单行或多行注释前添加空行。" class="headerlink" title="[强制] 单行或多行注释前添加空行。"></a>[强制] <code>单行</code>或<code>多行注释</code>前添加空行。</h5><h5 id="建议-逻辑块之间应添加空行增加可读性。"><a href="#建议-逻辑块之间应添加空行增加可读性。" class="headerlink" title="[建议] 逻辑块之间应添加空行增加可读性。"></a>[建议] <code>逻辑块</code>之间应添加空行增加可读性。</h5><p>示例：</p>
<pre><code class="javascript"><span class="comment">// 仅为按逻辑换行的示例，不代表setStyle的最优实现</span>
<span class="function"><span class="keyword">function</span> <span class="title">setStyle</span>(<span class="params">element, property, value</span>) </span>{
    <span class="keyword">if</span> (element == <span class="literal">null</span>) {
        <span class="keyword">return</span>;
    }

    element.style[property] = value;
}
</code></pre>
<h5 id="强制-在表示语句块开始的-之前不换行，在表示语句块结束的-后换行。"><a href="#强制-在表示语句块开始的-之前不换行，在表示语句块结束的-后换行。" class="headerlink" title="[强制] 在表示语句块开始的{之前不换行，在表示语句块结束的}后换行。"></a>[强制] 在表示<code>语句块</code>开始的<code>{</code>之前不换行，在表示<code>语句块</code>结束的<code>}</code>后换行。</h5><p>解释：特别的，对于 <code>if...else...</code>、<code>try...catch...finally</code> 等语句，在 <code>}</code><br>之后不换行，而是添加一个空格。</p>
<p>示例：</p>
<pre><code class="javascript"><span class="function"><span class="keyword">function</span> <span class="title">funcName</span>(<span class="params"></span>) </span>{
    <span class="comment">// some statements;</span>
}

<span class="keyword">if</span> (...) {
    <span class="comment">// some statements;</span>
}

<span class="keyword">if</span> (condition) {
    <span class="comment">// some statements;</span>
} <span class="keyword">else</span> {
    <span class="comment">// some statements;</span>
}

<span class="keyword">try</span> {
    <span class="comment">// some statements;</span>
} <span class="keyword">catch</span> (ex) {
    <span class="comment">// some statements;</span>
}
</code></pre>
<h5 id="强制-运算符处换行时，运算符必须在新行的行首。"><a href="#强制-运算符处换行时，运算符必须在新行的行首。" class="headerlink" title="[强制] 运算符处换行时，运算符必须在新行的行首。"></a>[强制] <code>运算符</code>处换行时，<code>运算符</code>必须在新行的<code>行首</code>。</h5><p>示例：</p>
<pre><code class="javascript"><span class="comment">// good</span>
<span class="keyword">if</span> (user.isAuthenticated()
    &amp;&amp; user.isInRole(<span class="string">'admin'</span>)
    &amp;&amp; user.hasAuthority(<span class="string">'add-admin'</span>)
    || user.hasAuthority(<span class="string">'delete-admin'</span>)
) {
    <span class="comment">// Code</span>
}

<span class="keyword">var</span> result = number1 + number2 + number3
    + number4 + number5;


<span class="comment">// bad</span>
<span class="keyword">if</span> (user.isAuthenticated() &amp;&amp;
    user.isInRole(<span class="string">'admin'</span>) &amp;&amp;
    user.hasAuthority(<span class="string">'add-admin'</span>) ||
    user.hasAuthority(<span class="string">'delete-admin'</span>)) {
    <span class="comment">// Code</span>
}

<span class="keyword">var</span> result = number1 + number2 + number3 +
    number4 + number5;
</code></pre>
<h5 id="强制-在函数声明、函数表达式、函数调用、对象创建、数组创建、for语句等场景中，不允许在-或-前换行。"><a href="#强制-在函数声明、函数表达式、函数调用、对象创建、数组创建、for语句等场景中，不允许在-或-前换行。" class="headerlink" title="[强制] 在函数声明、函数表达式、函数调用、对象创建、数组创建、for语句等场景中，不允许在 , 或 ; 前换行。"></a>[强制] 在<code>函数声明</code>、<code>函数表达式</code>、<code>函数调用</code>、<code>对象创建</code>、<code>数组创建</code>、<code>for语句</code>等场景中，不允许在 <code>,</code> 或 <code>;</code> 前换行。</h5><p>示例：</p>
<pre><code class="javascript"><span class="comment">// good</span>
<span class="keyword">var</span> obj = {
    <span class="attr">a</span>: <span class="number">1</span>,
    <span class="attr">b</span>: <span class="number">2</span>,
    <span class="attr">c</span>: <span class="number">3</span>
};

foo(
    aVeryVeryLongArgument,
    anotherVeryLongArgument,
    callback
);


<span class="comment">// bad</span>
<span class="keyword">var</span> obj = {
    <span class="attr">a</span>: <span class="number">1</span>
    , <span class="attr">b</span>: <span class="number">2</span>
    , <span class="attr">c</span>: <span class="number">3</span>
};

foo(
    aVeryVeryLongArgument
    , anotherVeryLongArgument
    , callback
);
</code></pre>
<h5 id="建议-对于HTML片段的拼接，通过换行和缩进，保持和HTML相同的结构。"><a href="#建议-对于HTML片段的拼接，通过换行和缩进，保持和HTML相同的结构。" class="headerlink" title="[建议] 对于HTML片段的拼接，通过换行和缩进，保持和HTML相同的结构。"></a>[建议] 对于<code>HTML片段</code>的拼接，通过<code>换行</code>和<code>缩进</code>，保持和HTML相同的结构。</h5><p>示例</p>
<pre><code class="javascript"><span class="keyword">var</span> html = <span class="string">''</span> <span class="comment">// 此处用一个空字符串，以便整个HTML片段都在新行严格对齐</span>
    + <span class="string">'&lt;article&gt;'</span>
    +     <span class="string">'&lt;h1&gt;Title here&lt;/h1&gt;'</span>
    +     <span class="string">'&lt;p&gt;This is a paragraph&lt;/p&gt;'</span>
    +     <span class="string">'&lt;footer&gt;Complete&lt;/footer&gt;'</span>
    + <span class="string">'&lt;/article&gt;'</span>;
</code></pre>
<h4 id="2-2-5-空格"><a href="#2-2-5-空格" class="headerlink" title="2.2.5 空格"></a>2.2.5 空格</h4><h5 id="强制-二元运算符两侧必须有一个空格，一元运算符与操作对象之间不允许有空格。"><a href="#强制-二元运算符两侧必须有一个空格，一元运算符与操作对象之间不允许有空格。" class="headerlink" title="[强制] 二元运算符两侧必须有一个空格，一元运算符与操作对象之间不允许有空格。"></a>[强制] <code>二元运算符</code>两侧必须有<code>一个空格</code>，<code>一元运算符</code>与<code>操作对象</code>之间不允许有空格。</h5><p>示例：</p>
<pre><code class="javascript"><span class="keyword">var</span> a = !arr.length;
a++;
a = b + c;
</code></pre>
<h5 id="强制-用作代码块起始的左花括号-前必须有一个空格。"><a href="#强制-用作代码块起始的左花括号-前必须有一个空格。" class="headerlink" title="[强制] 用作代码块起始的左花括号 { 前必须有一个空格。"></a>[强制] 用作<code>代码块</code>起始的左花括号 <code>{</code> 前必须有一个空格。</h5><p>示例：</p>
<pre><code class="javascript"><span class="comment">// good</span>
<span class="keyword">if</span> (condition) {
}

<span class="keyword">while</span> (condition) {
}

<span class="function"><span class="keyword">function</span> <span class="title">funcName</span>(<span class="params"></span>) </span>{
}

<span class="comment">// bad</span>
<span class="keyword">if</span> (condition){
}

<span class="keyword">while</span> (condition){
}

<span class="function"><span class="keyword">function</span> <span class="title">funcName</span>(<span class="params"></span>)</span>{
}
</code></pre>
<h5 id="强制-if-else-for-while-function-switch-do-try-catch-finally-关键字后，必须有一个空格。"><a href="#强制-if-else-for-while-function-switch-do-try-catch-finally-关键字后，必须有一个空格。" class="headerlink" title="[强制] if / else / for / while / function / switch / do / try / catch / finally 关键字后，必须有一个空格。"></a>[强制] <code>if / else / for / while / function / switch / do / try / catch / finally</code> 关键字后，必须有一个空格。</h5><p>示例：</p>
<pre><code class="javascript"><span class="comment">// good</span>
<span class="keyword">if</span> (condition) {
}

<span class="keyword">while</span> (condition) {
}

(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>{
})();

<span class="comment">// bad</span>
<span class="keyword">if</span>(condition) {
}

<span class="keyword">while</span>(condition) {
}

(<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>{
})();
</code></pre>
<h5 id="强制-在对象创建时，属性中的-之后必须有空格，-之前不允许有空格。"><a href="#强制-在对象创建时，属性中的-之后必须有空格，-之前不允许有空格。" class="headerlink" title="[强制] 在对象创建时，属性中的 : 之后必须有空格，: 之前不允许有空格。"></a>[强制] 在对象创建时，属性中的 <code>:</code> 之后必须有空格，<code>:</code> 之前不允许有空格。</h5><p>示例：</p>
<pre><code class="javascript"><span class="comment">// good</span>
<span class="keyword">var</span> obj = {
    <span class="attr">a</span>: <span class="number">1</span>,
    <span class="attr">b</span>: <span class="number">2</span>,
    <span class="attr">c</span>: <span class="number">3</span>
};

<span class="comment">// bad</span>
<span class="keyword">var</span> obj = {
    <span class="attr">a</span> : <span class="number">1</span>,
    <span class="attr">b</span>:<span class="number">2</span>,
    <span class="attr">c</span> :<span class="number">3</span>
};
</code></pre>
<h5 id="强制-函数声明、具名函数表达式、函数调用中，函数名和-之间不允许有空格。"><a href="#强制-函数声明、具名函数表达式、函数调用中，函数名和-之间不允许有空格。" class="headerlink" title="[强制] 函数声明、具名函数表达式、函数调用中，函数名和 ( 之间不允许有空格。"></a>[强制] <code>函数声明</code>、<code>具名函数表达式</code>、<code>函数调用中</code>，<code>函数名</code>和 <code>(</code> 之间<code>不允许</code>有空格。</h5><p>示例：</p>
<pre><code class="javascript"><span class="comment">// good</span>
<span class="function"><span class="keyword">function</span> <span class="title">funcName</span>(<span class="params"></span>) </span>{
}

funcName();

<span class="comment">// bad</span>
<span class="function"><span class="keyword">function</span> <span class="title">funcName</span> (<span class="params"></span>) </span>{
}

funcName ();
</code></pre>
<h5 id="强制-使用函数表达式声明函数或使用匿名函数时，关键词function之后应有空格。"><a href="#强制-使用函数表达式声明函数或使用匿名函数时，关键词function之后应有空格。" class="headerlink" title="[强制] 使用函数表达式声明函数或使用匿名函数时，关键词function之后应有空格。"></a>[强制] 使用<code>函数表达式</code>声明函数或使用<code>匿名函数</code>时，关键词<code>function</code>之后应有空格。</h5><p>示例：</p>
<pre><code class="javascript"><span class="comment">// good</span>
<span class="keyword">var</span> funcName = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>{
};
<span class="keyword">var</span> value = (<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>{
}());

<span class="comment">// bad</span>
<span class="keyword">var</span> funcName = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>{
};
<span class="keyword">var</span> value = (<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>{
}());
</code></pre>
<h5 id="强制-和-前不允许有空格，-之后应有一个空格。"><a href="#强制-和-前不允许有空格，-之后应有一个空格。" class="headerlink" title="[强制] , 和 ; 前不允许有空格，,之后应有一个空格。"></a>[强制] <code>,</code> 和 <code>;</code> 前不允许有空格，<code>,</code>之后应有一个空格。</h5><p>示例：</p>
<pre><code class="javascript"><span class="comment">// good</span>
callFunc(a, b);

<span class="comment">// bad</span>
callFunc(a , b) ;

callFunc(a,b);
</code></pre>
<h5 id="强制-在函数调用、函数声明、括号表达式、属性访问、if-for-while-switch-catch-等语句中，-和-内紧贴括号部分不允许有空格。"><a href="#强制-在函数调用、函数声明、括号表达式、属性访问、if-for-while-switch-catch-等语句中，-和-内紧贴括号部分不允许有空格。" class="headerlink" title="[强制] 在函数调用、函数声明、括号表达式、属性访问、if / for / while / switch / catch 等语句中，() 和 [] 内紧贴括号部分不允许有空格。"></a>[强制] 在函数调用、函数声明、括号表达式、属性访问、<code>if / for / while / switch / catch</code> 等语句中，<code>()</code> 和 <code>[]</code> 内紧贴括号部分不允许有空格。</h5><p>示例：</p>
<pre><code class="javascript"><span class="comment">// good</span>

callFunc(param1, param2, param3);

save(<span class="keyword">this</span>.list[<span class="keyword">this</span>.indexes[i]]);

needIncream &amp;&amp; (variable += increament);

<span class="keyword">if</span> (num &gt; list.length) {
}

<span class="keyword">while</span> (len--) {
}


<span class="comment">// bad</span>

callFunc( param1, param2, param3 );

save( <span class="keyword">this</span>.list[ <span class="keyword">this</span>.indexes[ i ] ] );

needIncreament &amp;&amp; ( variable += increament );

<span class="keyword">if</span> ( num &gt; list.length ) {
}

<span class="keyword">while</span> ( len-- ) {
}
</code></pre>
<h5 id="强制-单行声明的数组与对象，如果包含元素，-和-内紧贴括号部分不允许包含空格。"><a href="#强制-单行声明的数组与对象，如果包含元素，-和-内紧贴括号部分不允许包含空格。" class="headerlink" title="[强制] 单行声明的数组与对象，如果包含元素，{} 和 [] 内紧贴括号部分不允许包含空格。"></a>[强制] 单行声明的<code>数组</code>与<code>对象</code>，如果包含元素，<code>{}</code> 和 <code>[]</code> 内紧贴括号部分<code>不允许</code>包含空格。</h5><p>解释：</p>
<p>声明包含元素的数组与对象，只有当内部元素的形式较为简单时，才允许写在一行。元素复杂的情况，还是应该换行书写。</p>
<p>示例：</p>
<pre><code class="javascript"><span class="comment">// good</span>
<span class="keyword">var</span> arr1 = [];
<span class="keyword">var</span> arr2 = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>];
<span class="keyword">var</span> obj1 = {};
<span class="keyword">var</span> obj2 = {<span class="attr">name</span>: <span class="string">'obj'</span>};
<span class="keyword">var</span> obj3 = {
    <span class="attr">name</span>: <span class="string">'obj'</span>,
    <span class="attr">age</span>: <span class="number">20</span>,
    <span class="attr">sex</span>: <span class="number">1</span>
};

<span class="comment">// bad</span>
<span class="keyword">var</span> arr1 = [ ];
<span class="keyword">var</span> arr2 = [ <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span> ];
<span class="keyword">var</span> obj1 = { };
<span class="keyword">var</span> obj2 = { <span class="attr">name</span>: <span class="string">'obj'</span> };
<span class="keyword">var</span> obj3 = {<span class="attr">name</span>: <span class="string">'obj'</span>, <span class="attr">age</span>: <span class="number">20</span>, <span class="attr">sex</span>: <span class="number">1</span>};
</code></pre>
<h5 id="强制-行尾不得有多余的空格。"><a href="#强制-行尾不得有多余的空格。" class="headerlink" title="[强制] 行尾不得有多余的空格。"></a>[强制] <code>行尾</code>不得有多余的空格。</h5><h3 id="2-3-命名"><a href="#2-3-命名" class="headerlink" title="2.3 命名"></a>2.3 命名</h3><h4 id="2-3-1-命名风格"><a href="#2-3-1-命名风格" class="headerlink" title="2.3.1 命名风格"></a>2.3.1 命名风格</h4><h5 id="强制-变量使用下划线命名法。"><a href="#强制-变量使用下划线命名法。" class="headerlink" title="[强制] 变量使用下划线命名法。"></a>[强制] 变量使用<code>下划线</code>命名法。</h5><p>示例：</p>
<pre><code class="javascript"><span class="keyword">var</span> value_name_like_this;
</code></pre>
<h5 id="强制-函数名使用Camel命名法"><a href="#强制-函数名使用Camel命名法" class="headerlink" title="[强制] 函数名使用Camel命名法"></a>[强制] 函数名使用<code>Camel</code>命名法</h5><pre><code class="javascript"><span class="function"><span class="keyword">function</span> <span class="title">funcNameLikeThis</span>(<span class="params"></span>)</span>{
    <span class="comment">//code....</span>
}
</code></pre>
<h5 id="强制-常量命名全部字母大写，单词间用下划线分隔。"><a href="#强制-常量命名全部字母大写，单词间用下划线分隔。" class="headerlink" title="[强制] 常量命名全部字母大写，单词间用下划线分隔。"></a>[强制] <code>常量命名</code>全部字母<code>大写</code>，单词间用<code>下划线</code>分隔。</h5><p>示例：</p>
<pre><code class="javascript"><span class="keyword">var</span> CONSTANT_NAME_LIKE_THIS;
</code></pre>
<h5 id="强制-函数的参数使用下划线命名法。"><a href="#强制-函数的参数使用下划线命名法。" class="headerlink" title="[强制] 函数的参数使用下划线命名法。"></a>[强制] <code>函数</code>的<code>参数</code>使用<code>下划线</code>命名法。</h5><p>示例：</p>
<pre><code class="javascript"><span class="function"><span class="keyword">function</span> <span class="title">funcName</span>(<span class="params">param_name_like_this</span>) </span>{
    <span class="comment">//code....</span>
}
</code></pre>
<h5 id="强制-类名（构造函数）使用Pascal命名法。"><a href="#强制-类名（构造函数）使用Pascal命名法。" class="headerlink" title="[强制] 类名（构造函数）使用Pascal命名法。"></a>[强制] <code>类名</code>（构造函数）使用<code>Pascal</code>命名法。</h5><p>示例：</p>
<pre><code class="javascript"><span class="function"><span class="keyword">function</span> <span class="title">ClassNameLikeThis</span>(<span class="params"></span>)</span>{
    <span class="comment">//code....</span>
}
</code></pre>
<h5 id="强制-类的方法（属性）使用Camel命名法。"><a href="#强制-类的方法（属性）使用Camel命名法。" class="headerlink" title="[强制] 类的方法（属性）使用Camel命名法。"></a>[强制] <code>类的方法</code>（属性）使用<code>Camel</code>命名法。</h5><p>示例：</p>
<pre><code class="javascript"><span class="function"><span class="keyword">function</span> <span class="title">ClassNameLikeThis</span>(<span class="params"></span>)</span>{
    <span class="keyword">this</span>.valueNameLikeThis = value;
    <span class="keyword">this</span>.functionInClass = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>{
    <span class="comment">//code....</span>
    }
}
</code></pre>
<h5 id="强制-枚举变量使用Pascal命名法，枚举的属性使用全部字母大写，单词间下划线分隔的命名方式。"><a href="#强制-枚举变量使用Pascal命名法，枚举的属性使用全部字母大写，单词间下划线分隔的命名方式。" class="headerlink" title="[强制] 枚举变量使用Pascal命名法，枚举的属性使用全部字母大写，单词间下划线分隔的命名方式。"></a>[强制] <code>枚举变量</code>使用<code>Pascal</code>命名法，枚举的<code>属性</code>使用<code>全部字母大写</code>，单词间<code>下划线分隔</code>的命名方式。</h5><p>示例：</p>
<pre><code class="javascript"><span class="keyword">var</span> TargetState = {
    <span class="attr">READING</span>: <span class="number">1</span>,
    <span class="attr">READED</span>: <span class="number">2</span>,
    <span class="attr">APPLIED</span>: <span class="number">3</span>,
    <span class="attr">READY</span>: <span class="number">4</span>
};
</code></pre>
<h5 id="强制-命名空间使用Camel命名法。"><a href="#强制-命名空间使用Camel命名法。" class="headerlink" title="[强制] 命名空间使用Camel命名法。"></a>[强制] <code>命名空间</code>使用<code>Camel</code>命名法。</h5><p>示例：</p>
<pre><code class="javascript"><span class="keyword">var</span> nameSpace = {};
</code></pre>
<h5 id="强制-由多个单词组成的缩写词，在命名中，根据当前命名法和出现的位置，所有字母的大小写与首字母的大小写保持一致。"><a href="#强制-由多个单词组成的缩写词，在命名中，根据当前命名法和出现的位置，所有字母的大小写与首字母的大小写保持一致。" class="headerlink" title="[强制] 由多个单词组成的缩写词，在命名中，根据当前命名法和出现的位置，所有字母的大小写与首字母的大小写保持一致。"></a>[强制] 由多个单词组成的<code>缩写词</code>，在命名中，根据当前命名法和出现的位置，所有字母的大小写与首字母的大小写<code>保持一致</code>。</h5><p>示例：</p>
<pre><code class="javascript"><span class="function"><span class="keyword">function</span> <span class="title">XMLParser</span>(<span class="params"></span>) </span>{
}

<span class="function"><span class="keyword">function</span> <span class="title">insertHTML</span>(<span class="params">element, html</span>) </span>{
}

<span class="keyword">var</span> httpRequest = <span class="keyword">new</span> HTTPRequest();
</code></pre>
<h4 id="2-3-2-命名语义"><a href="#2-3-2-命名语义" class="headerlink" title="2.3.2 命名语义"></a>2.3.2 命名语义</h4><h5 id="强制-类名使用名词。"><a href="#强制-类名使用名词。" class="headerlink" title="[强制] 类名使用名词。"></a>[强制] <code>类名</code>使用<code>名词</code>。</h5><p>示例：</p>
<pre><code class="javascript"><span class="function"><span class="keyword">function</span> <span class="title">Engine</span>(<span class="params">options</span>) </span>{
}
</code></pre>
<h5 id="建议-函数名-使用-动宾短语。"><a href="#建议-函数名-使用-动宾短语。" class="headerlink" title="[建议] 函数名 使用 动宾短语。"></a>[建议] <code>函数名</code> 使用 <code>动宾短语</code>。</h5><p>示例：</p>
<pre><code class="javascript"><span class="function"><span class="keyword">function</span> <span class="title">getStyle</span>(<span class="params">element</span>) </span>{
}
</code></pre>
<h5 id="建议-boolean-类型的变量使用-is-或-has-开头。"><a href="#建议-boolean-类型的变量使用-is-或-has-开头。" class="headerlink" title="[建议] boolean 类型的变量使用 is 或 has 开头。"></a>[建议] <code>boolean</code> 类型的变量使用 <code>is</code> 或 <code>has</code> 开头。</h5><p>示例：</p>
<pre><code class="javascript"><span class="keyword">var</span> isReady = <span class="literal">false</span>;
<span class="keyword">var</span> hasMoreCommands = <span class="literal">false</span>;
</code></pre>
<h5 id="建议-Promise对象-用-动宾短语的进行时-表达。"><a href="#建议-Promise对象-用-动宾短语的进行时-表达。" class="headerlink" title="[建议] Promise对象 用 动宾短语的进行时 表达。"></a>[建议] <code>Promise对象</code> 用 <code>动宾短语的进行时</code> 表达。</h5><p>示例：</p>
<pre><code class="javascript"><span class="keyword">var</span> loadingData = ajax.get(<span class="string">'url'</span>);
loadingData.then(callback);
</code></pre>
<h2 id="3-语言特性"><a href="#3-语言特性" class="headerlink" title="3 语言特性"></a>3 语言特性</h2><h3 id="3-1-变量"><a href="#3-1-变量" class="headerlink" title="3.1 变量"></a>3.1 变量</h3><h5 id="强制-变量在使用前必须通过var定义。"><a href="#强制-变量在使用前必须通过var定义。" class="headerlink" title="[强制] 变量在使用前必须通过var定义。"></a>[强制] 变量在使用前必须通过<code>var</code>定义。</h5><p>解释：</p>
<p>不通过 var 定义变量将导致变量污染全局环境。</p>
<p>示例：</p>
<pre><code class="javascript"><span class="comment">// good</span>
<span class="keyword">var</span> name = <span class="string">'MyName'</span>;

<span class="comment">// bad</span>
name = <span class="string">'MyName'</span>;
</code></pre>
<h5 id="强制-声明多个变量时必须在-后换行，或使用多个var定义。"><a href="#强制-声明多个变量时必须在-后换行，或使用多个var定义。" class="headerlink" title="[强制] 声明多个变量时必须在,后换行，或使用多个var定义。"></a>[强制] 声明多个变量时必须在<code>,</code>后换行，或使用多个<code>var</code>定义。</h5><p>示例：</p>
<pre><code class="javascript"><span class="comment">// good</span>
<span class="keyword">var</span> hangModules = [];
<span class="keyword">var</span> missModules = [];
<span class="keyword">var</span> visited = {};
<span class="keyword">var</span> number_one = <span class="number">1</span>,
    number_two = <span class="number">2</span>;

<span class="comment">// bad</span>
<span class="keyword">var</span> hangModules = [], missModules = [], visited = {}, number_one = <span class="number">1</span>, number_two = <span class="number">2</span>;
</code></pre>
<h5 id="强制-在同一个函数内部，局部变量的声明必须置于顶端。"><a href="#强制-在同一个函数内部，局部变量的声明必须置于顶端。" class="headerlink" title="[强制] 在同一个函数内部，局部变量的声明必须置于顶端。"></a>[强制] 在同一个函数内部，<code>局部变量</code>的声明必须置于<code>顶端</code>。</h5><p>解释：在顶部统一声明变量有助于增强可读性，即使放到中间，js解析器也会提升至顶部（hosting）</p>
<p>示例：</p>
<pre><code class="javascript"><span class="comment">// good</span>
<span class="function"><span class="keyword">function</span> <span class="title">kv2List</span>(<span class="params">source</span>) </span>{
    <span class="keyword">var</span> list = [];
    <span class="keyword">var</span> key;
    <span class="keyword">var</span> item;

    <span class="keyword">for</span> (key <span class="keyword">in</span> source) {
        <span class="keyword">if</span> (source.hasOwnProperty(key)) {
            item = {
                <span class="attr">k</span>: key,
                <span class="attr">v</span>: source[key]
            };
            list.push(item);
        }
    }

    <span class="keyword">return</span> list;
}
<span class="comment">// bad</span>
<span class="function"><span class="keyword">function</span> <span class="title">kv2List</span>(<span class="params">source</span>) </span>{
    <span class="keyword">var</span> list = [];

    <span class="keyword">for</span> (<span class="keyword">var</span> key <span class="keyword">in</span> source) {
        <span class="keyword">if</span> (source.hasOwnProperty(key)) {
            <span class="keyword">var</span> item = {
                <span class="attr">k</span>: key,
                <span class="attr">v</span>: source[key]
            };
            list.push(item);
        }
    }

    <span class="keyword">return</span> list;
}
</code></pre>
<h3 id="3-2-条件"><a href="#3-2-条件" class="headerlink" title="3.2 条件"></a>3.2 条件</h3><h5 id="建议-在-Equality-Expression-中使用类型严格的-。"><a href="#建议-在-Equality-Expression-中使用类型严格的-。" class="headerlink" title="[建议] 在 Equality Expression 中使用类型严格的 ===。"></a>[建议] 在 Equality Expression 中使用类型严格的 ===。</h5><p>解释：</p>
<p>使用 === 可以避免等于判断中隐式的类型转换。</p>
<p>示例：</p>
<pre><code class="javascript"><span class="comment">// good</span>
<span class="keyword">if</span> (age === <span class="number">30</span>) {
    <span class="comment">// ......</span>
}

<span class="comment">// bad</span>
<span class="keyword">if</span> (age == <span class="number">30</span>) {
    <span class="comment">// ......</span>
}
</code></pre>
<h5 id="建议-尽可能使用简洁的表达式。"><a href="#建议-尽可能使用简洁的表达式。" class="headerlink" title="[建议] 尽可能使用简洁的表达式。"></a>[建议] 尽可能使用简洁的表达式。</h5><p>示例：</p>
<pre><code class="javascript"><span class="comment">// 字符串为空</span>

<span class="comment">// good</span>
<span class="keyword">if</span> (!name) {
    <span class="comment">// ......</span>
}

<span class="comment">// bad</span>
<span class="keyword">if</span> (name === <span class="string">''</span>) {
    <span class="comment">// ......</span>
}
<span class="comment">// 字符串非空</span>

<span class="comment">// good</span>
<span class="keyword">if</span> (name) {
    <span class="comment">// ......</span>
}

<span class="comment">// bad</span>
<span class="keyword">if</span> (name !== <span class="string">''</span>) {
    <span class="comment">// ......</span>
}
<span class="comment">// 数组非空</span>

<span class="comment">// good</span>
<span class="keyword">if</span> (collection.length) {
    <span class="comment">// ......</span>
}

<span class="comment">// bad</span>
<span class="keyword">if</span> (collection.length &gt; <span class="number">0</span>) {
    <span class="comment">// ......</span>
}
<span class="comment">// 布尔不成立</span>

<span class="comment">// good</span>
<span class="keyword">if</span> (!notTrue) {
    <span class="comment">// ......</span>
}

<span class="comment">// bad</span>
<span class="keyword">if</span> (notTrue === <span class="literal">false</span>) {
    <span class="comment">// ......</span>
}
<span class="comment">// null 或 undefined</span>

<span class="comment">// good</span>
<span class="keyword">if</span> (noValue == <span class="literal">null</span>) {
  <span class="comment">// ......</span>
}

<span class="comment">// bad</span>
<span class="keyword">if</span> (noValue === <span class="literal">null</span> || <span class="keyword">typeof</span> noValue === <span class="string">'undefined'</span>) {
  <span class="comment">// ......</span>
}
</code></pre>
<h3 id="3-3-循环"><a href="#3-3-循环" class="headerlink" title="3.3 循环"></a>3.3 循环</h3><h5 id="建议-不要在循环体中包含函数表达式，事先将函数提取到循环体外。"><a href="#建议-不要在循环体中包含函数表达式，事先将函数提取到循环体外。" class="headerlink" title="[建议] 不要在循环体中包含函数表达式，事先将函数提取到循环体外。"></a>[建议] 不要在循环体中包含函数表达式，事先将函数提取到循环体外。</h5><p>解释：</p>
<p>循环体中的函数表达式，运行过程中会生成循环次数个函数对象。</p>
<p>示例：</p>
<pre><code class="javascript"><span class="comment">// good</span>
<span class="function"><span class="keyword">function</span> <span class="title">clicker</span>(<span class="params"></span>) </span>{
    <span class="comment">// ......</span>
}

<span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>, len = elements.length; i &lt; len; i++) {
    <span class="keyword">var</span> element = elements[i];
    addListener(element, <span class="string">'click'</span>, clicker);
}


<span class="comment">// bad</span>
<span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>, len = elements.length; i &lt; len; i++) {
    <span class="keyword">var</span> element = elements[i];
    addListener(element, <span class="string">'click'</span>, <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>{});
}
</code></pre>
<h5 id="建议-对循环内多次使用的不变值，在循环外用变量缓存。"><a href="#建议-对循环内多次使用的不变值，在循环外用变量缓存。" class="headerlink" title="[建议] 对循环内多次使用的不变值，在循环外用变量缓存。"></a>[建议] 对循环内多次使用的不变值，在循环外用变量缓存。</h5><p>示例：</p>
<pre><code class="javascript"><span class="comment">// good</span>
<span class="keyword">var</span> width = wrap.offsetWidth + <span class="string">'px'</span>;
<span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>, len = elements.length; i &lt; len; i++) {
    <span class="keyword">var</span> element = elements[i];
    element.style.width = width;
    <span class="comment">// ......</span>
}


<span class="comment">// bad</span>
<span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>, len = elements.length; i &lt; len; i++) {
    <span class="keyword">var</span> element = elements[i];
    element.style.width = wrap.offsetWidth + <span class="string">'px'</span>;
    <span class="comment">// ......</span>
}
</code></pre>
<h3 id="3-4-类型"><a href="#3-4-类型" class="headerlink" title="3.4 类型"></a>3.4 类型</h3><h5 id="建议-转换成string时，使用-39-39-。"><a href="#建议-转换成string时，使用-39-39-。" class="headerlink" title="[建议] 转换成string时，使用+ &#39;&#39;。"></a>[建议] 转换成<code>string</code>时，使用<code>+ &#39;&#39;</code>。</h5><p>示例：</p>
<pre><code class="javascript"><span class="comment">// good</span>
num + <span class="string">''</span>;

<span class="comment">// bad</span>
<span class="keyword">new</span> <span class="built_in">String</span>(num);
num.toString();
<span class="built_in">String</span>(num);
</code></pre>
<h5 id="建议-转换成number时，通常使用-。"><a href="#建议-转换成number时，通常使用-。" class="headerlink" title="[建议] 转换成number时，通常使用+。"></a>[建议] 转换成<code>number</code>时，通常使用<code>+</code>。</h5><p>示例：</p>
<pre><code class="javascript"><span class="comment">// good</span>
+str;

<span class="comment">// bad</span>
<span class="built_in">Number</span>(str);
</code></pre>
<p>[建议] 转换成<code>boolean</code>时，使用<code>!!</code>。</p>
<p>示例：</p>
<pre><code class="javascript"><span class="keyword">var</span> num = <span class="number">3.14</span>;
!!num;
</code></pre>
<h3 id="3-5-对象"><a href="#3-5-对象" class="headerlink" title="3.5 对象"></a>3.5 对象</h3><h5 id="强制-使用对象字面量-创建新Object。"><a href="#强制-使用对象字面量-创建新Object。" class="headerlink" title="[强制] 使用对象字面量{}创建新Object。"></a>[强制] 使用对象字面量<code>{}</code>创建新<code>Object</code>。</h5><p>示例：</p>
<pre><code class="javascript"><span class="comment">// good</span>
<span class="keyword">var</span> obj = {};

<span class="comment">// bad</span>
<span class="keyword">var</span> obj = <span class="keyword">new</span> <span class="built_in">Object</span>();
</code></pre>
<h5 id="建议-属性访问时，尽量使用-。"><a href="#建议-属性访问时，尽量使用-。" class="headerlink" title="[建议] 属性访问时，尽量使用.。"></a>[建议] 属性访问时，尽量使用<code>.</code>。</h5><p>解释：</p>
<p>属性名符合 Identifier 的要求，就可以通过 . 来访问，否则就只能通过 [expr] 方式访问。</p>
<p>通常在 JavaScript 中声明的对象，属性命名是使用 Camel 命名法，用 . 来访问更清晰简洁。部分特殊的属性(比如来自后端的JSON)，可能采用不寻常的命名方式，可以通过 [expr] 方式访问。</p>
<p>示例：</p>
<pre><code class="javascript">info.age;
info[<span class="string">'more-info'</span>];
</code></pre>
<h5 id="强制-对象创建时，如果任何一个属性需要添加引号，则所有属性均应添加-‘。"><a href="#强制-对象创建时，如果任何一个属性需要添加引号，则所有属性均应添加-‘。" class="headerlink" title="[强制] 对象创建时，如果任何一个属性需要添加引号，则所有属性均应添加 ‘。"></a>[强制] 对象创建时，如果任何一个<code>属性</code>需要添加引号，则所有<code>属性</code>均应添加 ‘。</h5><p>示例：</p>
<pre><code class="javascript"><span class="comment">// good</span>
<span class="keyword">var</span> info = {
    <span class="string">'name'</span>: <span class="string">'someone'</span>,
    <span class="string">'age'</span>: <span class="number">28</span>,
    <span class="string">'more-info'</span>: <span class="string">'...'</span>
};

<span class="comment">// bad</span>
<span class="keyword">var</span> info = {
    <span class="attr">name</span>: <span class="string">'someone'</span>,
    <span class="attr">age</span>: <span class="number">28</span>,
    <span class="string">'more-info'</span>: <span class="string">'...'</span>
};
</code></pre>
<h5 id="强制-不允许修改和扩展任何原生对象和宿主对象的原型。"><a href="#强制-不允许修改和扩展任何原生对象和宿主对象的原型。" class="headerlink" title="[强制] 不允许修改和扩展任何原生对象和宿主对象的原型。"></a>[强制] 不允许修改和扩展任何原生对象和宿主对象的原型。</h5><h3 id="3-6-数组"><a href="#3-6-数组" class="headerlink" title="3.6 数组"></a>3.6 数组</h3><p>[强制] 使用数组字面量<code>[]</code>创建新数组，除非想要创建的是指定长度的数组。</p>
<p>示例：</p>
<pre><code class="javascript"><span class="comment">// good</span>
<span class="keyword">var</span> arr = [];

<span class="comment">// bad</span>
<span class="keyword">var</span> arr = <span class="keyword">new</span> <span class="built_in">Array</span>();
</code></pre>
<h5 id="强制-遍历数组不使用for-in。"><a href="#强制-遍历数组不使用for-in。" class="headerlink" title="[强制] 遍历数组不使用for in。"></a>[强制] 遍历数组不使用<code>for in</code>。</h5><p>解释：</p>
<p>数组对象可能存在数字以外的属性, 这种情况下 for in 不会得到正确结果.</p>
<p>示例：</p>
<pre><code class="javascript"><span class="keyword">var</span> arr = [<span class="string">'a'</span>, <span class="string">'b'</span>, <span class="string">'c'</span>];
arr.other = <span class="string">'other things'</span>; <span class="comment">// 这里仅作演示, 实际中应使用Object类型</span>

<span class="comment">// 正确的遍历方式</span>
<span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>, len = arr.length; i &lt; len; i++) {
    <span class="built_in">console</span>.log(i);
}

<span class="comment">// 错误的遍历方式</span>
<span class="keyword">for</span> (i <span class="keyword">in</span> arr) {
    <span class="built_in">console</span>.log(i);
}
</code></pre>
<h3 id="3-7-函数"><a href="#3-7-函数" class="headerlink" title="3.7 函数"></a>3.7 函数</h3><h5 id="建议-一个函数的长度控制在50行以内。"><a href="#建议-一个函数的长度控制在50行以内。" class="headerlink" title="[建议] 一个函数的长度控制在50行以内。"></a>[建议] 一个函数的长度控制在<code>50</code>行以内。</h5><p>解释：</p>
<p>将过多的逻辑单元混在一个大函数中，易导致难以维护。一个清晰易懂的函数应该完成单一的逻辑单元。复杂的操作应进一步抽取，通过函数的调用来体现流程。</p>
<p>特定算法等不可分割的逻辑允许例外。</p>
<p>示例：</p>
<pre><code class="javascript"><span class="function"><span class="keyword">function</span> <span class="title">syncViewStateOnUserAction</span>(<span class="params"></span>) </span>{
    <span class="keyword">if</span> (x.checked) {
        y.checked = <span class="literal">true</span>;
        z.value = <span class="string">''</span>;
    }
    <span class="keyword">else</span> {
        y.checked = <span class="literal">false</span>;
    }

    <span class="keyword">if</span> (!a.value) {
        warning.innerText = <span class="string">'Please enter it'</span>;
        submitButton.disabled = <span class="literal">true</span>;
    }
    <span class="keyword">else</span> {
        warning.innerText = <span class="string">''</span>;
        submitButton.disabled = <span class="literal">false</span>;
    }
}

<span class="comment">// 直接阅读该函数会难以明确其主线逻辑，因此下方是一种更合理的表达方式：</span>

<span class="function"><span class="keyword">function</span> <span class="title">syncViewStateOnUserAction</span>(<span class="params"></span>) </span>{
    syncXStateToView();
    checkAAvailability();
}

<span class="function"><span class="keyword">function</span> <span class="title">syncXStateToView</span>(<span class="params"></span>) </span>{
    <span class="keyword">if</span> (x.checked) {
        y.checked = <span class="literal">true</span>;
        z.value = <span class="string">''</span>;
    }
    <span class="keyword">else</span> {
        y.checked = <span class="literal">false</span>;
    }
}

<span class="function"><span class="keyword">function</span> <span class="title">checkAAvailability</span>(<span class="params"></span>) </span>{
    <span class="keyword">if</span> (!a.value) {
        displayWarningForAMissing();
    }
    <span class="keyword">else</span> {
        clearWarnignForA();
    }
}
</code></pre>
<h3 id="3-8-面向对象"><a href="#3-8-面向对象" class="headerlink" title="3.8 面向对象"></a>3.8 面向对象</h3><h5 id="建议-使用function进行类的定义，不推荐继承，如需继承采用成熟的类库实现。"><a href="#建议-使用function进行类的定义，不推荐继承，如需继承采用成熟的类库实现。" class="headerlink" title="[建议] 使用function进行类的定义，不推荐继承，如需继承采用成熟的类库实现。"></a>[建议] 使用<code>function</code>进行类的定义，不推荐继承，如需继承采用成熟的类库实现。</h5><h5 id="建议-属性在构造函数中声明，方法在原型中声明。"><a href="#建议-属性在构造函数中声明，方法在原型中声明。" class="headerlink" title="[建议] 属性在构造函数中声明，方法在原型中声明。"></a>[建议] 属性在构造函数中声明，方法在原型中声明。</h5><p>示例：</p>
<pre><code class="javascript"><span class="function"><span class="keyword">function</span> <span class="title">TextNode</span>(<span class="params">value, engine</span>) </span>{
    <span class="keyword">this</span>.value = value;
    <span class="keyword">this</span>.engine = engine;
}

TextNode.prototype.clone = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>{
    <span class="keyword">return</span> <span class="keyword">this</span>;
};
</code></pre>
<h3 id="4-DOM"><a href="#4-DOM" class="headerlink" title="4 DOM"></a>4 DOM</h3><h4 id="4-1-元素获取"><a href="#4-1-元素获取" class="headerlink" title="4.1 元素获取"></a>4.1 元素获取</h4><h5 id="建议-对于单个元素，尽可能使用document-getElementById获取，避免使用document-all。"><a href="#建议-对于单个元素，尽可能使用document-getElementById获取，避免使用document-all。" class="headerlink" title="[建议] 对于单个元素，尽可能使用document.getElementById获取，避免使用document.all。"></a>[建议] 对于单个元素，尽可能使用<code>document.getElementById</code>获取，避免使用<code>document.all</code>。</h5><h5 id="建议-对于多个元素的集合，尽可能使用context-getElementsByTagName获取。其中context可以为-document或其他元素。指定tagName参数为-可以获得所有子元素。"><a href="#建议-对于多个元素的集合，尽可能使用context-getElementsByTagName获取。其中context可以为-document或其他元素。指定tagName参数为-可以获得所有子元素。" class="headerlink" title="[建议] 对于多个元素的集合，尽可能使用context.getElementsByTagName获取。其中context可以为 document或其他元素。指定tagName参数为 * 可以获得所有子元素。"></a>[建议] 对于多个元素的集合，尽可能使用<code>context.getElementsByTagName</code>获取。其中<code>context</code>可以为 <code>document</code>或其他元素。指定<code>tagName</code>参数为 * 可以获得所有子元素。</h5><h5 id="建议-遍历元素集合时，尽量缓存集合长度。如需多次操作同一集合，则应将集合转为数组。"><a href="#建议-遍历元素集合时，尽量缓存集合长度。如需多次操作同一集合，则应将集合转为数组。" class="headerlink" title="[建议] 遍历元素集合时，尽量缓存集合长度。如需多次操作同一集合，则应将集合转为数组。"></a>[建议] 遍历元素集合时，尽量缓存集合长度。如需多次操作同一集合，则应将集合转为数组。</h5><h4 id="4-2-样式"><a href="#4-2-样式" class="headerlink" title="4.2 样式"></a>4.2 样式</h4><h5 id="建议-尽可能通过为元素添加预定义的className来改变元素样式，避免直接操作style设置。"><a href="#建议-尽可能通过为元素添加预定义的className来改变元素样式，避免直接操作style设置。" class="headerlink" title="[建议] 尽可能通过为元素添加预定义的className来改变元素样式，避免直接操作style设置。"></a>[建议] 尽可能通过为元素添加预定义的<code>className</code>来改变元素样式，避免直接操作<code>style</code>设置。</h5><h5 id="强制-通过style对象设置元素样式时，对于带单位非0值的属性，不允许省略单位。"><a href="#强制-通过style对象设置元素样式时，对于带单位非0值的属性，不允许省略单位。" class="headerlink" title="[强制] 通过style对象设置元素样式时，对于带单位非0值的属性，不允许省略单位。"></a>[强制] 通过<code>style</code>对象设置元素样式时，对于带单位非<code>0</code>值的属性，不允许省略单位。</h5><h4 id="4-3-DOM操作"><a href="#4-3-DOM操作" class="headerlink" title="4.3 DOM操作"></a>4.3 DOM操作</h4><h5 id="建议-尽量减少DOM操作。"><a href="#建议-尽量减少DOM操作。" class="headerlink" title="[建议] 尽量减少DOM操作。"></a>[建议] 尽量减少<code>DOM</code>操作。</h5><p>解释：</p>
<p><code>DOM</code>操作是非常耗时的一种操作，减少<code>DOM</code>操作有助于提高性能。举一个简单的例子，构建一个列表。我们可以用两种方式：</p>
<ol>
<li><p>在循环体中 createElement 并 append 到父元素中。</p>
</li>
<li><p>在循环体中拼接 HTML 字符串，循环结束后写父元素的 innerHTML。</p>
</li>
</ol>
<p>第一种方法看起来比较标准，但是每次循环都会对 DOM 进行操作，性能极低。在这里推荐使用第二种方法。</p>


      

    </section>
    
      <section class='ArticleMeta'>
          <div>
            发布于&nbsp;
            <time datetime="2015-04-12T14:48:36.000Z" itemprop="datePublished">
              2015-04-12
            </time>
          </div>
          
      </section>
    
</article>

  
</div>

            <footer>
    <div>© 2016 - Hcyue</div>
    <div>
    Powered by Hexo, all rights reserved
    </div>
</footer>

        </div>
    </div>
</div>
<script src="/js/pager/dist/singlepager.js"></script>
<script>
var sp = new Pager('data-pager-shell')

</script><!-- hexo-inject:begin --><!-- hexo-inject:end -->
</body>
</html>